<!doctype html>
<html lang="en" class="h-100">

<head>
    <title>RotatoR: A Coding Project By Jonathan Kay</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/5db21ba9c6.js" crossorigin="anonymous"></script>
    <link href="/css/site.css" rel="stylesheet">
    <link href="/css/prism.css" rel="stylesheet">
    <link href="/img/JK-Fav-Dark.svg" rel="icon" type="image/png">
</head>

<body class="d-flex flex-column h-100">
    <!-- Nav Section-->
    <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="#"><img src="/img/JK-Fav-Dark.svg" class="d-inline-block align-text-bottom" width="25" height="25"> RotatoR</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse"
                aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarCollapse">
                <ul class="navbar-nav me-auto mb-2 mb-md-0">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="app.html">The App</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="code.html">The Code</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" target="_blank" href="https://github.com/JonathanKayDev/Rotator">Git Repo</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" target="_blank" href="https://www.jonathankay.dev">About</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- Main Section-->
    <main class="flex-shrink-0">
        <div class="container py-5 px-5 mt-5">
            <h2 class="border-1 border-bottom border-dark">The Code for RotatoR</h2>
            <div class="row row-cols-1 row-cols-lg-2">
                <!-- Prism Code-->
                <div class="col-lg-8">
                    <pre class="line-numbers">
                        <code class="language-javascript">
                            // CONTROLLER FUNCTION(S)
                            // get user string from the page
                            function getString() {
                                let userString = document.getElementById("userString").value;
                                document.getElementById("alert").classList.add("invisible");
                            
                                // check for palindrome, if valid input
                                if (validateString(userString)) {
                                    let inputString = simplifyString(userString);
                                    let outputString = reverseString(inputString);
                            
                                    // check for palindrom
                                    let returnObj = checkPalindrome(inputString, outputString);
                            
                                    // display output message 
                                    displayString(returnObj);
                                }
                            }
                            
                            
                            
                            // LOGIC FUNCTION(S)
                            function validateString(inputString) {
                                let output = true;
                            
                                // strip out space a non-letters
                                inputString = simplifyString(inputString); 
                            
                                // check if string is empty or has only white spaces
                                if (inputString.length === 0 || !inputString.trim()) {
                                    alert("Please enter a string to check!")
                                    output = false;
                                }
                            
                                return output;
                            }
                            
                            
                            // remove whitespace, upper case, and special characters
                            function simplifyString(inputString){
                                let simpleString = "";
                            
                                simpleString = inputString.toLowerCase();
                                simpleString = simpleString.replace(/[^a-z0-9]/g,"");
                                simpleString = simpleString.replaceAll(/\s+/g,"");
                            
                                return simpleString;
                            }
                            
                            // reverse string
                            function reverseString(inputString) {
                                let revString = [];
                            
                                // reverse the string using a for loop
                                for ( let i = inputString.length -1; i >=0; i--) {
                                    revString += inputString[i];
                                }
                            
                                return revString;
                            }
                            
                            // check for palindrome
                            function checkPalindrome(inputString, reverseString) {
                                let returnObj = {};
                            
                                if (inputString == reverseString) {
                                    returnObj.msg = `YES! Palindrome found!`;
                                }
                                else
                                {
                                    returnObj.msg = `Sorry! No palindrome found.`;
                                }
                            
                                returnObj.reversed = reverseString;
                            
                                return returnObj;
                            }
                            
                            
                            // VIEW FUNCTION(S)
                            // Display the output string to the user
                            function displayString(returnObj) {
                                // write message to page
                                document.getElementById("alertHeader").innerHTML = returnObj.msg;
                                document.getElementById("msg").innerHTML = `Your phrase reversed is: ${returnObj.reversed}`;
                            
                                // show the alert box
                                document.getElementById("alert").classList.remove("invisible");
                            }
                        </code>
                    </pre>
                </div>
                <!-- Code Description-->
                <div class="col-lg-4">
                    <p>The Code is structured into six functions.</p>
                    <h5>getString</h5>
                    <p>getString retrieves the user input string from the page. It utilises <strong>getElementById</strong> to get this string. 
                        A class of <strong>"invisible"</strong> is added to the <strong>alert</strong> div, so that the div is no visible when text is being updated
                        or if the input is not valid.
                        The input string is validated with <strong>validateString</strong>, and if valid, the remaining code in <strong>getString</strong> will run.
                        A new string is declared, which is set to the output of the <strong>simplifyString</strong> method, where the input string is stripped to a basic string without spaces.
                        Another new string is declared which is the output of the <strong>reverseString</strong> method, where the input is the previous new string (output of <strong>simplifyString</strong>).
                         The  <strong>checkPalindrome</strong> function is then called and set to a new object variable, which is then fed into 
                        the <strong>displayString</strong> function.</p>
                    <h5>validateString</h5>
                    <p>The user input string is fed into this function, which checks to see if the string length is equal to 0 or formed entirely of white spaces.
                        If either of these conditions evaluate to true, then a boolean variable named <strong>output</strong> is set to false, and an alert box notifies the user to 
                        input a string. The <strong>output</strong> variable is then returned.
                    </p>
                    <h5>simplifyString</h5>
                    <p>This method converts the input string to lowercase, removes all non-alphanumeric characters, and removes whitespace.</p>
                    <h5>reverseString</h5>
                    <p>reverseString returns a string value which is the reverse of the string fed into the function. This is achieved with a 'for' loop which runs 
                        backwards from the last index of the input array to 0 (last index is the array length -1, since js array indices start from 0).
                        On each iteration of the loop, the char is added to a new array called <strong>revString</strong>, which is returned after the loop completes.
                    </p>
                    <h5>checkPalindrome</h5>
                    <p>This method accepts two inputs (simplified user input string, and reversed string), and checks to see if these 2 strings are equal, by using an 'if statement'.
                        Depending on the output, the .msg parameter of a new object is set accordingly, and then the .reversed parameter of the new object is assigned. The object is then returned from the function 
                        containing 2 parameters (2 strings).
                    </p>
                    <h5>displayString</h5>
                    <p>The displayString function accepts an object input, which should contain 2 properties (.msg and .reversed). The object contains strings which are used to inform the user as to 
                        whether the palindrome check was successful and the reversed string of the user input. The <strong>alert</strong> div then has the class of <strong>"invisible"</strong> removed so that the output is 
                        visible to the user.
                    </p>
                </div>
            </div>
        </div>
    </main>
    <!-- Footer Section-->
    <footer class="footer mt-auto py-3 sticky-footer">
        <div class="container-fluid">
            <div class="row row-cols-2 row-cols-md-3 gy-2">
                <div class="col-12 order-last order-md-first text-light d-flex align-items-center">
                    <div><span class="text-muted">&copy;2022</span> Jonathan Kay | info@jonathankay.dev</div>
                </div>
                <div class="col d-flex align-items-center justify-content-start justify-content-lg-center">
                    <img src="/img/JK-Light.svg" alt="Jonathan Kay Logo" height="32px">
                </div>
                <div class="col d-flex align-items-center justify-content-end justify-content-lg-end">
                    <div class="row">
                        <div class="col social">
                            <a target="_blank" href="https://www.linkedin.com/in/jonathan-kay-23321460/"><i class="fab fa-linkedin fa-2x"></i></a>
                        </div>
                        <div class="col social">
                            <a target="_blank" href="https://github.com/JonathanKayDev"><i class="fab fa-github fa-2x"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>
    <script src="/js/prism.js"></script>
    <script>
        Prism.plugins.NormalizeWhitespace.setDefaults({
        'remove-trailing': true,
        'remove-indent': true,
        'left-trim': true,
        'right-trim': true
        })
    </script>

</body>

</html>